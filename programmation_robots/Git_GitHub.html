<!DOCTYPE html>
<html class="writer-html5" lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.3.1. Principe &mdash; Documentation HRC Documentation 1.0.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />

  
    <link rel="shortcut icon" href="../_static/logo_48x48.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="prev" title="1.3. Git et GitHub" href="Tree-Git_GitHub.html" />

<link rel="stylesheet" href="../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HRC Documentation
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Tree.html">1. Programmation Robots</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Tree-ROS.html">1.1. Programmation ROS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ROS.html">1.1.1. Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#fonctionnement-code">1.1.2. Fonctionnement code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#les-fichiers-erb">1.1.2.1. Les fichiers <em>.erb</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#herminebot-ou-hrc">1.1.2.2. Herminebot ou HRC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#fonctionnement-tests">1.1.3. Fonctionnement tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#executer-les-tests">1.1.3.1. Exécuter les tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#execution-sur-github">1.1.3.2. Exécution sur GitHub</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#tests-a-ajouter">1.1.3.3. Tests à ajouter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#creer-des-plugins-nav2">1.1.4. Créer des plugins Nav2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#navigateur">1.1.4.1. Navigateur</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#plugin-d-arbre-de-comportement">1.1.4.2. Plugin d’arbre de comportement</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#comportement">1.1.4.3. Comportement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#ecrire-de-nouveaux-messages">1.1.5. Écrire de nouveaux messages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Tree-Code_conventions.html">1.2. Conventions de programmation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Code_conventions.html">1.2.1. Messages de commit et PR</a></li>
<li class="toctree-l3"><a class="reference internal" href="Code_conventions.html#langages-de-programmation">1.2.2. Langages de programmation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Code_conventions.html#commun">1.2.2.1. Commun</a></li>
<li class="toctree-l4"><a class="reference internal" href="Code_conventions.html#c">1.2.2.2. C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="Code_conventions.html#python">1.2.2.3. Python</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="Tree-Git_GitHub.html">1.3. Git et GitHub</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.3.1. Principe</a></li>
<li class="toctree-l3"><a class="reference internal" href="#exemple-de-workflow">1.3.2. Exemple de workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="#github-actions">1.3.3. GitHub Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#commandes-git-utiles">1.3.4. Commandes Git utiles</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HRC Documentation</a>
      </nav>

      <div class="wy-nav-content">

<span style="float: right;" >
    <a class="github-button" href="https://github.com/Hermine-HRC/documentation"
       data-color-scheme="no-preference: light; light: light; dark: dark;"
       data-size="large" aria-label="Éditer cette documentation sur GitHub" >Éditer</a>
</span>


        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Tree.html"><span class="section-number">1. </span>Programmation Robots</a></li>
          <li class="breadcrumb-item"><a href="Tree-Git_GitHub.html"><span class="section-number">1.3. </span>Git et GitHub</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.3.1. </span>Principe</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="principe">
<h1><span class="section-number">1.3.1. </span>Principe<a class="headerlink" href="#principe" title="Lien permanent vers cette rubrique"></a></h1>
<p><em>GitHub</em> est un service de gestion de code en ligne. Il permet de gérer le code source de l’équipe et de le partager
avec les autres membres de l’équipe.</p>
<p>Il est possible de cloner le code source sur son propre ordinateur afin de travailler sur le code.</p>
<p>Une fois le code cloné, il est possible de faire des modifications et les soumettre au dépôt GitHub.</p>
<p>Les modifications sont effectuées en local via <em>Git</em> en <em>commit</em> et les <em>commits</em> sont stockés dans un <em>repository</em>.</p>
<p>Un <em>repository</em> est un ensemble de <em>commits</em> et de fichiers.</p>
<p>Les <em>commits</em> sont identifiés par un <em>hash</em> qui permet de les retrouver facilement.</p>
<p>Le <em>hash</em> est généré automatiquement lors de la création d’un <em>commit</em>.</p>
<p>Les <em>commits</em> sont affectés à une <em>branch</em> afin de pouvoir travailler sur plusieurs branches simultanément.</p>
<p>Une fois que le code est prêt, il est possible de <em>push</em> le <em>commit</em> et/ou la branche sur le dépôt GitHub afin de le
partager avec les autres.</p>
<p>Pour fusionner les modifications, il faut faire une <em>pull request</em> sur le dépôt GitHub.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>La branche <code class="code docutils literal notranslate"><span class="pre">master</span></code> est la branche par défaut et elle est protégée. C’est-à-dire que les modifications ne
peuvent pas être faites sur cette branche. Il faut procéder à une <em>pull request</em> afin de fusionner les
modifications.</p>
</div>
</div>
<div class="section" id="exemple-de-workflow">
<h1><span class="section-number">1.3.2. </span>Exemple de workflow<a class="headerlink" href="#exemple-de-workflow" title="Lien permanent vers cette rubrique"></a></h1>
<p>Voici un exemple de workflow pour travailler sur le code source. Ici, les étapes sont détaillées en ligne de commande.
Il est cependant possible d’utiliser un logiciel de gestion de code comme <em>GitHub Desktop</em> ou des IDE comme
<em>Visual Studio Code</em> afin de réaliser ces étapes.</p>
<ol class="arabic simple">
<li><p>Cloner le code source sur son propre ordinateur</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/Hermine-HRC/cdfr.git
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Créer une branche de travail</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>switch<span class="w"> </span>-c<span class="w"> </span>my_branch
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Faire des modifications dans le code</p></li>
<li><p>Ajouter les modifications à <em>Git</em></p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>add<span class="w"> </span>.<span class="w"> </span><span class="c1"># &#39;.&#39; signifie tous les fichiers dans le dossier courant et les sous-dossiers</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Commiter les modifications et écrire un message dans un éditeur de texte</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>commit
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Pousser les modifications sur le dépôt GitHub</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>push
</pre></div>
</div>
<ol class="arabic" start="7">
<li><p>Faire une <em>pull request</em> sur le dépôt GitHub</p>
<ul class="simple">
<li><p>Se connecter sur le dépôt GitHub</p></li>
<li><p>Cliquer sur le bouton <em>Compare &amp; pull request</em></p></li>
<li><p>Sélectionner la branche de base</p></li>
<li><p>Cliquer sur <em>Create pull request</em></p></li>
</ul>
</li>
<li><p>Fusionner la <em>pull request</em></p>
<p>Depuis la <em>pull request</em>, précédemment créée, si c’est indiqué qu’elle peut être automatique fusionnée,
cliquer sur <em>Merge pull request</em>. Sinon, cela signifie qu’il y’a des conflits pour fusionner les branches. Dans ce
cas, il faut procéder à un <em>rebase</em>.</p>
</li>
<li><p>Récupérer les modifications sur la branche sur laquelle la fusion a été effectuée (ici <code class="code docutils literal notranslate"><span class="pre">master</span></code>)</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>switch<span class="w"> </span>master
git<span class="w"> </span>pull<span class="w"> </span>--ff-only<span class="w"> </span><span class="c1"># Le paramètre &#39;--ff-only&#39; permet de s&#39;assurer qu&#39;il n&#39;y a pas de divergence avec le code local</span>
</pre></div>
</div>
</div>
<div class="section" id="github-actions">
<h1><span class="section-number">1.3.3. </span>GitHub Actions<a class="headerlink" href="#github-actions" title="Lien permanent vers cette rubrique"></a></h1>
<p>Les GitHub Actions sont des outils qui permettent notamment de gérer les tests et le déploiement automatiquement.
Ils gèrent notamment l’exécution des tests, ROS et la mise en ligne de cette documentation.</p>
<p>Ils sont définis dans les fichiers au format <code class="code docutils literal notranslate"><span class="pre">yml</span></code> du dossier <code class="code docutils literal notranslate"><span class="pre">.github/workflows/</span></code>.</p>
</div>
<div class="section" id="commandes-git-utiles">
<h1><span class="section-number">1.3.4. </span>Commandes Git utiles<a class="headerlink" href="#commandes-git-utiles" title="Lien permanent vers cette rubrique"></a></h1>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>status<span class="w"> </span><span class="c1"># Affiche les fichiers non commités</span>
git<span class="w"> </span>log<span class="w"> </span><span class="c1"># Affiche les commits</span>
git<span class="w"> </span>diff<span class="w"> </span><span class="c1"># Affiche les différences entre le dernier commit et le commit courant</span>
git<span class="w"> </span>diff<span class="w"> </span>--staged<span class="w"> </span><span class="c1"># Affiche les différences entre le dernier commit et le commit courant pour les fichiers commités</span>
git<span class="w"> </span>add<span class="w"> </span>.<span class="w"> </span><span class="c1"># Ajoute tous les fichiers dans le dossier courant et les sous-dossiers</span>
git<span class="w"> </span>commit<span class="w"> </span><span class="c1"># Crée un commit</span>
git<span class="w"> </span>commit<span class="w"> </span>--amend<span class="w"> </span><span class="c1"># Fusionne le dernier commit avec les modifications non commitées</span>
git<span class="w"> </span>push<span class="w"> </span><span class="c1"># Envoie les modifications sur le dépôt GitHub</span>
git<span class="w"> </span>push<span class="w"> </span>--force-with-lease<span class="w"> </span><span class="c1"># Force le push (utile quand l&#39;historique local est modifié par rapport à celui sur GitHub) À ÉVITER car ça casse l&#39;historique</span>
git<span class="w"> </span>pull<span class="w"> </span><span class="c1"># Met à jour le dépôt local</span>
git<span class="w"> </span>checkout<span class="w"> </span>&lt;branche&gt;<span class="w"> </span><span class="c1"># Change le dépôt local pour la branche spécifiée</span>
git<span class="w"> </span>switch<span class="w"> </span>&lt;branche&gt;<span class="w"> </span><span class="c1"># Change le dépôt local pour la branche spécifiée</span>
git<span class="w"> </span>branch<span class="w"> </span><span class="c1"># Affiche les branches</span>
git<span class="w"> </span>branch<span class="w"> </span>-d<span class="w"> </span>&lt;branche&gt;<span class="w"> </span><span class="c1"># Supprime la branche spécifiée</span>
git<span class="w"> </span>restore<span class="w"> </span>.<span class="w"> </span><span class="c1"># Restaure tous les fichiers dans le dossier courant et les sous-dossiers</span>
git<span class="w"> </span>stash<span class="w"> </span><span class="c1"># Sauvegarde les modifications non commitées</span>
git<span class="w"> </span>stash<span class="w"> </span>pop<span class="w"> </span><span class="c1"># Restaure les modifications non commitées</span>
git<span class="w"> </span>blame<span class="w"> </span>&lt;fichier&gt;<span class="w"> </span><span class="c1"># Affiche quel commit a modifier quelles lignes dans un fichier</span>
</pre></div>
</div>
<p>Pour <em>rebase</em> une branche, la fonction <code class="code docutils literal notranslate"><span class="pre">grb</span></code> peut être utilisée.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the current active branch</span>
get_branch<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nb">set</span><span class="w"> </span>-e<span class="w"> </span><span class="c1">#Stop on any errors</span>

<span class="w">    </span><span class="c1"># Get the current branch</span>
<span class="w">    </span><span class="nv">current_branch</span><span class="o">=</span><span class="k">$(</span>git<span class="w"> </span>symbolic-ref<span class="w"> </span>-q<span class="w"> </span>HEAD<span class="k">)</span>
<span class="w">    </span><span class="nv">current_branch</span><span class="o">=</span><span class="si">${</span><span class="nv">current_branch</span><span class="p">##refs/heads/</span><span class="si">}</span>
<span class="w">    </span><span class="nv">current_branch</span><span class="o">=</span><span class="si">${</span><span class="nv">current_branch</span><span class="k">:-</span><span class="nv">HEAD</span><span class="si">}</span>

<span class="w">    </span><span class="nb">echo</span><span class="w"> </span><span class="nv">$current_branch</span>
<span class="o">}</span>

<span class="c1"># Branch rebasing on master</span>
grb<span class="w"> </span><span class="o">()</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$#</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="k">then</span>
<span class="w">        </span><span class="nb">read</span><span class="w"> </span>-r<span class="w"> </span>current_branch<span class="w"> </span><span class="o">&lt;&lt;&lt;</span><span class="w"> </span><span class="k">$(</span>get_branch<span class="k">)</span>
<span class="w">    </span><span class="k">elif</span><span class="w"> </span><span class="o">[</span><span class="w"> </span><span class="s2">&quot;</span><span class="nv">$#</span><span class="s2">&quot;</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="o">]</span><span class="p">;</span>
<span class="w">    </span><span class="k">then</span>
<span class="w">       </span><span class="nv">current_branch</span><span class="o">=</span><span class="nv">$1</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">       </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;function requires 0 or 1 argument&quot;</span>
<span class="w">       </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>

<span class="w">    </span><span class="nv">main_branch</span><span class="o">=</span>master

<span class="w">    </span>git<span class="w"> </span>switch<span class="w"> </span><span class="nv">$main_branch</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="o">[[</span><span class="w"> </span>!<span class="w"> </span><span class="k">$(</span>git<span class="w"> </span>pull<span class="w"> </span>--ff-only<span class="k">)</span><span class="w"> </span><span class="o">]]</span><span class="p">;</span><span class="w"> </span><span class="k">then</span>
<span class="w">      </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;Pull of master failed&quot;</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="m">1</span>
<span class="w">    </span><span class="k">fi</span>
<span class="w">    </span>git<span class="w"> </span>switch<span class="w"> </span><span class="nv">$current_branch</span>

<span class="w">    </span>git<span class="w"> </span>rebase<span class="w"> </span><span class="nv">$main_branch</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Quelques commandes de configuration :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.name<span class="w"> </span><span class="s2">&quot;Hermine&quot;</span>
git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>user.email<span class="w"> </span><span class="s2">&quot;hermine.hrc@gmail.com&quot;</span>
git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>core.editor<span class="w"> </span>vim<span class="w"> </span><span class="c1"># définir l&#39;éditeur de texte</span>
git<span class="w"> </span>config<span class="w"> </span>--local<span class="w"> </span>color.ui<span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="c1"># définir si les couleurs sont activées</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>L’argument <code class="code docutils literal notranslate"><span class="pre">--local</span></code> définit les options pour le dépôt local. Remplacer par <code class="code docutils literal notranslate"><span class="pre">--global</span></code> pour modifier dans
tous les dépôts.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pour voir la valeur affectée à une option, il suffit de ne pas affecter de valeur.
Par exemple <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--local</span> <span class="pre">user.name</span></code> affichera la valeur de l’option <code class="code docutils literal notranslate"><span class="pre">user.name</span></code>.
Ou encore, pour afficher toutes les options <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">config</span> <span class="pre">--local</span> <span class="pre">--list</span></code>.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="Tree-Git_GitHub.html" class="btn btn-neutral float-left" title="1.3. Git et GitHub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>


      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<script type="text/javascript" src="../_static/tcs_theme.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>



</body>
</html>