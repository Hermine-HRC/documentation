<!DOCTYPE html>
<html class="writer-html5" lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.2.1. Messages de commit et PR &mdash; Documentation HRC Documentation 1.0.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />

  
    <link rel="shortcut icon" href="../_static/logo_48x48.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="1.3. Git et GitHub" href="Tree-Git_GitHub.html" />
    <link rel="prev" title="1.2. Conventions de programmation" href="Tree-Code_conventions.html" />

<link rel="stylesheet" href="../_static/tcs_theme.css" type="text/css" />


</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            HRC Documentation
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                latest
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" aria-label="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Tree.html">1. Programmation Robots</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Tree-ROS.html">1.1. Programmation ROS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ROS.html">1.1.1. Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#fonctionnement-code">1.1.2. Fonctionnement code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#les-fichiers-erb">1.1.2.1. Les fichiers <em>.erb</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#herminebot-ou-hrc">1.1.2.2. Herminebot ou HRC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#fonctionnement-tests">1.1.3. Fonctionnement tests</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#executer-les-tests">1.1.3.1. Exécuter les tests</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#execution-sur-github">1.1.3.2. Exécution sur GitHub</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#tests-a-ajouter">1.1.3.3. Tests à ajouter</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#creer-des-plugins-nav2">1.1.4. Créer des plugins Nav2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#navigateur">1.1.4.1. Navigateur</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#plugin-d-arbre-de-comportement">1.1.4.2. Plugin d’arbre de comportement</a></li>
<li class="toctree-l4"><a class="reference internal" href="ROS.html#comportement">1.1.4.3. Comportement</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="ROS.html#ecrire-de-nouveaux-messages">1.1.5. Écrire de nouveaux messages</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="Tree-Code_conventions.html">1.2. Conventions de programmation</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.2.1. Messages de commit et PR</a></li>
<li class="toctree-l3"><a class="reference internal" href="#langages-de-programmation">1.2.2. Langages de programmation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commun">1.2.2.1. Commun</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c">1.2.2.2. C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="#python">1.2.2.3. Python</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Tree-Git_GitHub.html">1.3. Git et GitHub</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Git_GitHub.html">1.3.1. Principe</a></li>
<li class="toctree-l3"><a class="reference internal" href="Git_GitHub.html#exemple-de-workflow">1.3.2. Exemple de workflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="Git_GitHub.html#github-actions">1.3.3. GitHub Actions</a></li>
<li class="toctree-l3"><a class="reference internal" href="Git_GitHub.html#commandes-git-utiles">1.3.4. Commandes Git utiles</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HRC Documentation</a>
      </nav>

      <div class="wy-nav-content">

<span style="float: right;" >
    <a class="github-button" href="https://github.com/Hermine-HRC/documentation"
       data-color-scheme="no-preference: light; light: light; dark: dark;"
       data-size="large" aria-label="Éditer cette documentation sur GitHub" >Éditer</a>
</span>


        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Tree.html"><span class="section-number">1. </span>Programmation Robots</a></li>
          <li class="breadcrumb-item"><a href="Tree-Code_conventions.html"><span class="section-number">1.2. </span>Conventions de programmation</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.2.1. </span>Messages de commit et PR</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="messages-de-commit-et-pr">
<h1><span class="section-number">1.2.1. </span>Messages de commit et PR<a class="headerlink" href="#messages-de-commit-et-pr" title="Lien permanent vers cette rubrique"></a></h1>
<p>Les messages de commit sont la justification de la modification. Ils doivent être clairs et précis. Il est peu utile
de dire ce qui est modifié, ça se voit facilement dans le code. En revanche, on ne voit pas le pourquoi de la
modification. C’est ici tout l’intérêt du message de commit.</p>
<p>Ils doivent respecter les conventions suivantes:</p>
<ul class="simple">
<li><p>Ils doivent être en anglais</p></li>
<li><p>Ils doivent commencer par une phrase courte résumant les modifications</p></li>
<li><p>La phrase courte doit commencer par un verbe et doit être suivie d’une ligne vide</p></li>
<li><p>La suite du message doit expliqués pourquoi les modifications ont été faites. Il ne faut pas hésiter à détailler</p></li>
<li><p>Dans le cas d’un commit pour résoudre un problème, il faut préciser le problème et le résultat ainsi que les étapes à suivre pour reproduire le problème</p></li>
</ul>
<p>Exemples :</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">implement</span> <span class="n">a</span> <span class="n">publisher</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">head</span> <span class="n">node</span> <span class="n">to</span> <span class="n">publish</span> <span class="n">the</span> <span class="n">score</span>

<span class="n">This</span> <span class="n">allows</span> <span class="n">to</span> <span class="n">display</span> <span class="n">the</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">screen</span> <span class="n">managed</span> <span class="n">by</span> <span class="n">another</span> <span class="n">node</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fix</span> <span class="n">robot</span> <span class="n">stuck</span> <span class="n">after</span> <span class="n">stop</span> <span class="n">by</span> <span class="n">collision</span> <span class="n">monitor</span>

<span class="n">Problem</span><span class="p">:</span> <span class="n">Once</span> <span class="n">the</span> <span class="n">robot</span> <span class="ow">is</span> <span class="n">stopped</span> <span class="n">by</span> <span class="n">the</span> <span class="n">collision</span> <span class="n">monitor</span><span class="p">,</span> <span class="n">it</span> <span class="n">can</span><span class="s1">&#39;t move again.</span>
<span class="n">Steps</span> <span class="n">to</span> <span class="n">reproduce</span><span class="p">:</span>
<span class="o">-</span> <span class="n">Launch</span> <span class="n">the</span> <span class="n">bringup</span>
<span class="o">-</span> <span class="n">Add</span> <span class="n">an</span> <span class="n">obstacle</span>
<span class="o">-</span> <span class="n">Make</span> <span class="n">the</span> <span class="n">robot</span> <span class="n">to</span> <span class="n">move</span> <span class="n">towards</span> <span class="n">the</span> <span class="n">obstacle</span>
<span class="o">-</span> <span class="n">The</span> <span class="n">robot</span> <span class="n">stops</span> <span class="n">near</span> <span class="n">the</span> <span class="n">obstacle</span>
<span class="o">-</span> <span class="n">Make</span> <span class="n">the</span> <span class="n">robot</span> <span class="n">to</span> <span class="n">go</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">opposite</span> <span class="n">direction</span>
<span class="o">-</span> <span class="n">The</span> <span class="n">robot</span> <span class="ow">is</span> <span class="n">stuck</span>
<span class="n">Cause</span><span class="p">:</span> <span class="n">The</span> <span class="n">collision</span> <span class="n">monitor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">correctly</span> <span class="n">configured</span>
</pre></div>
</div>
<p>Le message de <em>pull request</em>, lui, résume les modifications apportées par les différents commits qui la constituent.
Tout comme le message de commit, il doit exprimer pourquoi les modifications ont été apportées.</p>
</div>
<div class="section" id="langages-de-programmation">
<h1><span class="section-number">1.2.2. </span>Langages de programmation<a class="headerlink" href="#langages-de-programmation" title="Lien permanent vers cette rubrique"></a></h1>
<p>Les langages de programmation ont leurs propres conventions adaptées à leur spécificité. Les conventions ne sont pas
une règle à toute épreuve et peuvent être adaptées à la situation.</p>
<div class="section" id="commun">
<h2><span class="section-number">1.2.2.1. </span>Commun<a class="headerlink" href="#commun" title="Lien permanent vers cette rubrique"></a></h2>
<ul class="simple">
<li><p>Tout le code est en anglais</p></li>
<li><p>Les noms de classes sont en <code class="code docutils literal notranslate"><span class="pre">UpperCamelCase</span></code></p></li>
<li><p>Les noms des variables et attributs sont en <code class="code docutils literal notranslate"><span class="pre">snake_case</span></code></p></li>
<li><p>Les noms des fichiers sont en <code class="code docutils literal notranslate"><span class="pre">snake_case</span></code> (exceptions pour certains fichiers où la convention est autre)</p></li>
<li><p>Les variables globales sont en <code class="code docutils literal notranslate"><span class="pre">ALL_CAPS</span></code></p></li>
<li><p>Les tabulations sont de 4 espaces (exception des packages copiés de nav2 ou elles sont de 2 espaces)</p></li>
<li><p>Les fonctions et méthodes sont documentées avec des docstrings</p></li>
<li><p>Tous les opérateurs arithmétiques et d’assignation sont entourés d’espaces (ex : <code class="code docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code>)</p></li>
<li><p>Il est inutile de mettre des commentaires à tout bout de champ car ça alourdit le code. Ils doivent être utilisés de manière pertinente</p></li>
<li><p>Les lignes de code sont limitées à 120 caractères (exception pour les packages copiés de nav2 où elles sont de 100)</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>Dans VSCode, il est possible d’ajouter une ligne pour indiquer la limite.
Dans <code class="code docutils literal notranslate"><span class="pre">.vscode/settings.json</span></code>, ajouter la ligne suivante : <code class="code docutils literal notranslate"><span class="pre">&quot;editor.rulers&quot;:</span> <span class="pre">[120]</span></code></p>
</div>
</div>
<div class="section" id="c">
<h2><span class="section-number">1.2.2.2. </span>C++<a class="headerlink" href="#c" title="Lien permanent vers cette rubrique"></a></h2>
<p>Les conventions du C++ sont gérées dans un <a class="reference external" href="https://github.com/Hermine-HRC/cdfr/blob/master/robot/ros_ws/src/herminebot_bringup/config/ament_code_style.cfg">fichier de configuration</a>.</p>
<p>Voici une liste non exhaustive des règles (en complément des conventions communes à tous les langages) :</p>
<ul class="simple">
<li><p>Les noms des fonctions et des méthodes sont en <code class="code docutils literal notranslate"><span class="pre">lowerCamelCase</span></code></p></li>
<li><p>Les fonctions et méthodes ont une docstring de la forme ci-dessous et sont placées dans le header (s’il existe) :</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * @brief Calculate the sum of two numbers</span>
<span class="cm"> *</span>
<span class="cm"> * @param bar First operand</span>
<span class="cm"> * @param baz Second operand</span>
<span class="cm"> * @return The sum of the two operands</span>
<span class="cm"> */</span>
<span class="kt">double</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">bar</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">baz</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">baz</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Aucune ligne ne doit être terminée par un espace</p></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Astuce</p>
<p>Dans VSCode, il est possible d’afficher les espaces.
Dans <code class="code docutils literal notranslate"><span class="pre">.vscode/settings.json</span></code>, ajouter la ligne suivante : <code class="code docutils literal notranslate"><span class="pre">&quot;editor.renderWhitespace&quot;:</span> <span class="pre">&quot;all&quot;</span></code></p>
</div>
<ul class="simple">
<li><p>Les attributs de classe sont en <code class="code docutils literal notranslate"><span class="pre">snake_case</span></code> et se terminent par un underscore (ex: <code class="code docutils literal notranslate"><span class="pre">my_attribute_</span></code>)</p></li>
<li><p>Les accolades des fonctions et méthodes sont placées à la ligne suivante (voir exemple de <em>foo</em> au dessus)</p></li>
<li><p>Les accolades des conditions et boucles sont placées à la suite (sauf si la condition est placée sur plusieurs lignes)</p></li>
<li><p>Les <em>main</em> sont placées dans un fichier séparé de la définition de la classe</p></li>
</ul>
</div>
<div class="section" id="python">
<h2><span class="section-number">1.2.2.3. </span>Python<a class="headerlink" href="#python" title="Lien permanent vers cette rubrique"></a></h2>
<p>Les conventions du Python sont celles de la <a class="reference external" href="https://www.python.org/dev/peps/pep-0008/">PEP 8</a>, à quelques
exceptions près.
Voici une liste non exhaustive des règles (en complément des conventions communes à tous les langages) :</p>
<ul class="simple">
<li><p>Les noms des fonctions et des méthodes sont en <code class="code docutils literal notranslate"><span class="pre">snake_case</span></code></p></li>
<li><p>Les imports sont sur des lignes distinctes et triés par ordre alphabétique</p></li>
<li><p>Les strings sont entourées de guillemets simples</p></li>
<li><p>Les docstrings sont de la forme suivante :</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Calculate the sum of two numbers</span>

<span class="sd">:param bar: First operand</span>
<span class="sd">:param baz: Second operand</span>
<span class="sd">:return: The sum of the two operands</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="k">def</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="n">bar</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">,</span> <span class="n">baz</span><span class="p">:</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span> <span class="o">|</span> <span class="nb">int</span><span class="p">:</span>
   <span class="k">return</span> <span class="n">bar</span> <span class="o">+</span> <span class="n">baz</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Les fonctions et méthodes indiquent, autant que possible, le type des arguments et le type de retour (voir exemple de <em>foo</em> au dessus)</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="Tree-Code_conventions.html" class="btn btn-neutral float-left" title="1.2. Conventions de programmation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="Tree-Git_GitHub.html" class="btn btn-neutral float-right" title="1.3. Git et GitHub" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>


      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<script type="text/javascript" src="../_static/tcs_theme.js"></script>
<script async defer src="https://buttons.github.io/buttons.js"></script>



</body>
</html>